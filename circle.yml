machine:
  python:
    version: 2.7.8

dependencies:
  pre:
    - ln -s ~/.pyenv/versions/3.3.2/bin/python3.3 ~/bin
    - ln -s ~/.pyenv/versions/3.4.1/bin/python3.4 ~/bin
  override:
    - pip install tox
    - bash ./get_selenium.sh
  cache_directories:
    - "libs/"
    - "target/"

test:
  override:
    - cd clients/shale-python && env PATH="$HOME/bin:$PATH" tox
  post:
    - cp target/`ls target | grep -i shale | grep standalone | head -1` $CIRCLE_ARTIFACTS/
